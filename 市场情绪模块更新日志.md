# å¸‚åœºæƒ…ç»ªåˆ†æžæ¨¡å—æ›´æ–°æ—¥å¿—

## ç‰ˆæœ¬ï¼šv1.0 - å¸‚åœºæƒ…ç»ªæ•°æ®é›†æˆ

**æ›´æ–°æ—¥æœŸï¼š** 2025å¹´10æœˆ7æ—¥

## ðŸŽ¯ ä¸»è¦æ›´æ–°å†…å®¹

### 1. æ–°å¢žå¸‚åœºæƒ…ç»ªæ•°æ®æ¨¡å— (`market_sentiment_data.py`)

åˆ›å»ºäº†ä¸“é—¨çš„å¸‚åœºæƒ…ç»ªæ•°æ®èŽ·å–å’Œåˆ†æžæ¨¡å—ï¼Œæ”¯æŒä»¥ä¸‹åŠŸèƒ½ï¼š

#### ARBRæƒ…ç»ªæŒ‡æ ‡
- **ARæŒ‡æ ‡ï¼ˆäººæ°”æŒ‡æ ‡ï¼‰**ï¼šåæ˜ å¸‚åœºä¹°å–äººæ°”
  - è®¡ç®—å…¬å¼ï¼šAR = (Næ—¥å†…(H-O)ä¹‹å’Œ / Næ—¥å†…(O-L)ä¹‹å’Œ) Ã— 100
  - é»˜è®¤è®¡ç®—å‘¨æœŸï¼š26æ—¥
  - æä¾›è¶…ä¹°è¶…å–åˆ¤æ–­ï¼ˆ>150è¶…ä¹°ï¼Œ<70è¶…å–ï¼‰
  - åŽ†å²ç»Ÿè®¡æ•°æ®åˆ†æž

- **BRæŒ‡æ ‡ï¼ˆæ„æ„¿æŒ‡æ ‡ï¼‰**ï¼šåæ˜ å¸‚åœºä¹°å–æ„æ„¿å¼ºåº¦
  - è®¡ç®—å…¬å¼ï¼šBR = (Næ—¥å†…(H-CY)ä¹‹å’Œ / Næ—¥å†…(CY-L)ä¹‹å’Œ) Ã— 100
  - æä¾›è¶…ä¹°è¶…å–åˆ¤æ–­ï¼ˆ>300è¶…ä¹°ï¼Œ<50è¶…å–ï¼‰
  - è‡ªåŠ¨ç”Ÿæˆäº¤æ˜“ä¿¡å·

#### å…¶ä»–å¸‚åœºæƒ…ç»ªæŒ‡æ ‡
- **æ¢æ‰‹çŽ‡æ•°æ®**ï¼šåæ˜ è‚¡ç¥¨äº¤æ˜“æ´»è·ƒç¨‹åº¦
- **å¤§ç›˜æƒ…ç»ªæŒ‡æ•°**ï¼šåŸºäºŽæ¶¨è·Œå®¶æ•°ç»Ÿè®¡çš„å¸‚åœºæƒ…ç»ª
- **æ¶¨è·Œåœç»Ÿè®¡**ï¼šåæ˜ å¸‚åœºæžç«¯æƒ…ç»ª
- **èžèµ„èžåˆ¸æ•°æ®**ï¼šåæ˜ æŠ•èµ„è€…çœ‹å¤šçœ‹ç©ºæƒ…ç»ª
- **å¸‚åœºææ…Œè´ªå©ªæŒ‡æ•°**ï¼šç»¼åˆå¤šä¸ªæŒ‡æ ‡çš„æƒ…ç»ªè¯„åˆ†

### 2. å¢žå¼ºAIåˆ†æžå¸ˆåŠŸèƒ½ (`ai_agents.py`)

#### å¸‚åœºæƒ…ç»ªåˆ†æžå¸ˆå¢žå¼º
- çŽ°åœ¨æŽ¥æ”¶å®žé™…çš„å¸‚åœºæƒ…ç»ªæ•°æ®ä½œä¸ºè¾“å…¥
- åŸºäºŽARBRç­‰çœŸå®žæŒ‡æ ‡è¿›è¡Œä¸“ä¸šåˆ†æž
- æ›´æ–°åˆ†æžç»´åº¦ï¼ŒåŒ…æ‹¬ï¼š
  - ARBRæƒ…ç»ªæŒ‡æ ‡æ·±åº¦è§£è¯»
  - ä¸ªè‚¡æ´»è·ƒåº¦åˆ†æž
  - æ•´ä½“å¸‚åœºæƒ…ç»ªè¯„ä¼°
  - èµ„é‡‘æƒ…ç»ªåˆ¤æ–­
  - æƒ…ç»ªå¯¹è‚¡ä»·å½±å“åˆ†æž

### 3. ä¸»åº”ç”¨æµç¨‹ä¼˜åŒ– (`app.py`)

#### åˆ†æžæµç¨‹æ›´æ–°
```
æ—§æµç¨‹ï¼š
1. æ•°æ®èŽ·å– â†’ 2. æŠ€æœ¯åˆ†æž â†’ 3. åŸºæœ¬é¢åˆ†æž 
â†’ 4. èµ„é‡‘åˆ†æž â†’ 5. AIåˆ†æž â†’ 6. å›¢é˜Ÿè®¨è®º â†’ 7. æœ€ç»ˆå†³ç­–

æ–°æµç¨‹ï¼š
1. æ•°æ®èŽ·å– â†’ 2. æŠ€æœ¯åˆ†æž â†’ 3. åŸºæœ¬é¢åˆ†æž 
â†’ 4. èµ„é‡‘åˆ†æž â†’ 5. å¸‚åœºæƒ…ç»ªæ•°æ®èŽ·å–ï¼ˆæ–°å¢žï¼‰
â†’ 6. AIåˆ†æž â†’ 7. å›¢é˜Ÿè®¨è®º â†’ 8. æœ€ç»ˆå†³ç­–
```

#### UIæç¤ºä¼˜åŒ–
- æ˜¾ç¤ºå¸‚åœºæƒ…ç»ªæ•°æ®èŽ·å–çŠ¶æ€
- åŒºåˆ†Aè‚¡å’Œç¾Žè‚¡çš„åŠŸèƒ½æ”¯æŒ
- æä¾›è¯¦ç»†çš„æ•°æ®èŽ·å–åé¦ˆ

### 4. æ–°å¢žä½¿ç”¨æ–‡æ¡£

- **å¸‚åœºæƒ…ç»ªåˆ†æžä½¿ç”¨è¯´æ˜Ž.md**ï¼šè¯¦ç»†çš„åŠŸèƒ½è¯´æ˜Žå’Œä½¿ç”¨æŒ‡å—
- **æœ¬æ–‡æ¡£**ï¼šæ›´æ–°æ—¥å¿—å’ŒæŠ€æœ¯è¯´æ˜Ž

## ðŸ“Š æŠ€æœ¯å®žçŽ°ç»†èŠ‚

### æ•°æ®èŽ·å–
- ä½¿ç”¨`akshare`åº“èŽ·å–å®žæ—¶å¸‚åœºæ•°æ®
- è‡ªåŠ¨å¤„ç†æ•°æ®èŽ·å–å¤±è´¥çš„æƒ…å†µ
- æ”¯æŒå¤šæ•°æ®æºå¤‡ç”¨æ–¹æ¡ˆ

### ç¼–ç å¤„ç†
- è§£å†³Windowsç»ˆç«¯GBKç¼–ç é—®é¢˜
- æ”¯æŒemojiå’Œä¸­æ–‡æ˜¾ç¤º
- è·¨å¹³å°å…¼å®¹æ€§

### é”™è¯¯å¤„ç†
- å®Œå–„çš„å¼‚å¸¸æ•èŽ·æœºåˆ¶
- æ•°æ®èŽ·å–å¤±è´¥æ—¶çš„ä¼˜é›…é™çº§
- è¯¦ç»†çš„é”™è¯¯æ—¥å¿—è¾“å‡º

## ðŸ”§ APIä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€ä½¿ç”¨

```python
from market_sentiment_data import MarketSentimentDataFetcher

# åˆ›å»ºèŽ·å–å™¨
fetcher = MarketSentimentDataFetcher()

# èŽ·å–å¸‚åœºæƒ…ç»ªæ•°æ®
sentiment_data = fetcher.get_market_sentiment_data("000001")

# æ£€æŸ¥æ˜¯å¦æˆåŠŸ
if sentiment_data.get("data_success"):
    # æŸ¥çœ‹ARBRæ•°æ®
    arbr = sentiment_data["arbr_data"]
    print(f"AR: {arbr['latest_ar']:.2f}")
    print(f"BR: {arbr['latest_br']:.2f}")
    print(f"ä¿¡å·: {arbr['signals']['overall_signal']}")
```

### é›†æˆåˆ°åˆ†æžæµç¨‹

```python
from ai_agents import StockAnalysisAgents
from market_sentiment_data import MarketSentimentDataFetcher

# èŽ·å–å¸‚åœºæƒ…ç»ªæ•°æ®
sentiment_fetcher = MarketSentimentDataFetcher()
sentiment_data = sentiment_fetcher.get_market_sentiment_data(symbol)

# ä¼ é€’ç»™AIåˆ†æžå¸ˆ
agents = StockAnalysisAgents()
agents_results = agents.run_multi_agent_analysis(
    stock_info, 
    stock_data, 
    indicators, 
    financial_data, 
    fund_flow_data, 
    sentiment_data  # æ–°å¢žå‚æ•°
)
```

## âœ… æµ‹è¯•éªŒè¯

### æµ‹è¯•ç»“æžœ
- âœ… ARBRæŒ‡æ ‡è®¡ç®—æ­£å¸¸
- âœ… æ¢æ‰‹çŽ‡æ•°æ®èŽ·å–æˆåŠŸ
- âœ… å¤§ç›˜æƒ…ç»ªæŒ‡æ•°æ­£å¸¸
- âœ… æ¶¨è·Œåœç»Ÿè®¡æ­£å¸¸
- âš ï¸ èžèµ„èžåˆ¸éƒ¨åˆ†APIæœ‰é™åˆ¶ï¼ˆå·²æä¾›å¤‡ç”¨æ–¹æ¡ˆï¼‰
- âœ… å¸‚åœºææ…Œè´ªå©ªæŒ‡æ•°è®¡ç®—æ­£å¸¸

### æµ‹è¯•ç¤ºä¾‹è¾“å‡º

```
ã€ARBRå¸‚åœºæƒ…ç»ªæŒ‡æ ‡ã€‘
- ARå€¼ï¼š59.62ï¼ˆäººæ°”æŒ‡æ ‡ï¼‰
- BRå€¼ï¼š49.28ï¼ˆæ„æ„¿æŒ‡æ ‡ï¼‰
- ä¿¡å·ï¼šå¼ºçƒˆä¹°å…¥ä¿¡å·
- è§£è¯»ï¼š
  * ARè¶…å–ï¼ˆ<70ï¼‰ï¼Œå¸‚åœºæƒ…ç»ªä½Žè¿·ï¼Œå¯å…³æ³¨åå¼¹æœºä¼š
  * BRè¶…å–ï¼ˆ<50ï¼‰ï¼ŒæŠ•æœºæƒ…ç»ªä½Žè¿·ï¼Œå…³æ³¨ä¼ç¨³ä¿¡å·

ã€æ¢æ‰‹çŽ‡æ•°æ®ã€‘
- å½“å‰æ¢æ‰‹çŽ‡ï¼š0.43%
- è§£è¯»ï¼šæ¢æ‰‹çŽ‡å¾ˆä½Žï¼ˆ<2%ï¼‰ï¼Œäº¤æ˜“æ¸…æ·¡

ã€æ¶¨è·Œåœç»Ÿè®¡ã€‘
- æ¶¨åœè‚¡æ•°é‡ï¼š52åª
- è·Œåœè‚¡æ•°é‡ï¼š1åª
- è§£è¯»ï¼šæ¶¨åœè‚¡è¿œå¤šäºŽè·Œåœè‚¡ï¼Œå¸‚åœºæƒ…ç»ªç«çƒ­
```

## ðŸŽ¨ UIæ”¹è¿›

### è¿›åº¦æ¡æ›´æ–°
- æ–°å¢ž"å¸‚åœºæƒ…ç»ªæ•°æ®èŽ·å–"æ­¥éª¤
- æ›´æ¸…æ™°çš„è¿›åº¦æŒ‡ç¤º

### çŠ¶æ€æç¤º
- âœ… æˆåŠŸèŽ·å–å¸‚åœºæƒ…ç»ªæ•°æ®æç¤º
- âš ï¸ æ•°æ®èŽ·å–å¤±è´¥çš„å‹å¥½æç¤º
- â„¹ï¸ ç¾Žè‚¡åŠŸèƒ½é™åˆ¶è¯´æ˜Ž

### å¸®åŠ©ä¿¡æ¯
- æ›´æ–°ä¾§è¾¹æ çš„AIåˆ†æžæµç¨‹è¯´æ˜Ž
- åŒ…å«å¸‚åœºæƒ…ç»ªæ•°æ®æ­¥éª¤

## ðŸ“ å·²çŸ¥é—®é¢˜å’Œé™åˆ¶

### åŠŸèƒ½é™åˆ¶
1. **ä»…æ”¯æŒAè‚¡**ï¼šå¸‚åœºæƒ…ç»ªæ•°æ®ï¼ˆARBRç­‰ï¼‰ç›®å‰ä»…æ”¯æŒä¸­å›½Aè‚¡
2. **æ•°æ®å»¶è¿Ÿ**ï¼šéƒ¨åˆ†æ•°æ®ï¼ˆå¦‚èžèµ„èžåˆ¸ï¼‰å¯èƒ½æœ‰T+1å»¶è¿Ÿ
3. **APIé™åˆ¶**ï¼šæŸäº›akshareæŽ¥å£å¯èƒ½æœ‰é¢‘çŽ‡é™åˆ¶

### å¾…ä¼˜åŒ–é¡¹
1. èžèµ„èžåˆ¸APIéœ€è¦æ›´å¥½çš„fallbackæ–¹æ¡ˆ
2. å¯ä»¥æ·»åŠ æ›´å¤šæƒ…ç»ªæŒ‡æ ‡ï¼ˆå¦‚VIXï¼‰
3. åŽ†å²æƒ…ç»ªæ•°æ®çš„å¯è§†åŒ–

## ðŸš€ æœªæ¥è®¡åˆ’

### çŸ­æœŸè®¡åˆ’
- [ ] ä¼˜åŒ–èžèµ„èžåˆ¸æ•°æ®èŽ·å–
- [ ] æ·»åŠ æƒ…ç»ªæŒ‡æ ‡å¯è§†åŒ–å›¾è¡¨
- [ ] æ”¯æŒè‡ªå®šä¹‰ARBRè®¡ç®—å‘¨æœŸ

### é•¿æœŸè®¡åˆ’
- [ ] æ”¯æŒæ›´å¤šæƒ…ç»ªæŒ‡æ ‡ï¼ˆVIXã€PCRç­‰ï¼‰
- [ ] åŽ†å²æƒ…ç»ªæ•°æ®å›žæµ‹åŠŸèƒ½
- [ ] ç¾Žè‚¡å¸‚åœºæƒ…ç»ªæ•°æ®æ”¯æŒ
- [ ] æƒ…ç»ªæŒ‡æ ‡çš„æœºå™¨å­¦ä¹ é¢„æµ‹

## ðŸ“š ç›¸å…³æ–‡æ¡£

- `å¸‚åœºæƒ…ç»ªåˆ†æžä½¿ç”¨è¯´æ˜Ž.md` - è¯¦ç»†ä½¿ç”¨æŒ‡å—
- `market_sentiment_data.py` - æºä»£ç å’Œæ³¨é‡Š
- `ai_agents.py` - AIåˆ†æžå¸ˆå®žçŽ°
- `app.py` - ä¸»åº”ç”¨ç¨‹åº

## ðŸ’¡ ä½¿ç”¨å»ºè®®

1. **ARBRæŒ‡æ ‡**ï¼šæœ€å¥½ç»“åˆå…¶ä»–æŠ€æœ¯æŒ‡æ ‡ä½¿ç”¨ï¼Œä¸åº”å•ç‹¬ä½œä¸ºä¹°å–ä¾æ®
2. **å¸‚åœºæƒ…ç»ª**ï¼šæžç«¯æƒ…ç»ªå¾€å¾€æ˜¯åè½¬ä¿¡å·ï¼Œéœ€è¦é€†å‘æ€è€ƒ
3. **æ•°æ®æ—¶æ•ˆæ€§**ï¼šæƒ…ç»ªæ•°æ®å…·æœ‰æ—¶æ•ˆæ€§ï¼Œå»ºè®®åŠæ—¶åˆ†æž
4. **é£Žé™©æŽ§åˆ¶**ï¼šå¸‚åœºæƒ…ç»ªä»…ä¾›å‚è€ƒï¼ŒæŠ•èµ„éœ€è°¨æ…Ž

## ðŸ” æŠ€æœ¯æ ˆ

- **æ•°æ®æº**ï¼šakshare
- **æ•°æ®å¤„ç†**ï¼špandas, numpy
- **AIåˆ†æž**ï¼šDeepSeek API
- **UIæ¡†æž¶**ï¼šStreamlit
- **è¯­è¨€**ï¼šPython 3.x

## ðŸ“§ åé¦ˆä¸Žæ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·ï¼š
1. æŸ¥çœ‹ä½¿ç”¨æ–‡æ¡£
2. æ£€æŸ¥é”™è¯¯æ—¥å¿—
3. æäº¤issueæˆ–åé¦ˆ

---

**ç‰ˆæœ¬ï¼š** v1.0  
**ä½œè€…ï¼š** AIè‚¡ç¥¨åˆ†æžç³»ç»Ÿå›¢é˜Ÿ  
**æ›´æ–°æ—¥æœŸï¼š** 2025å¹´10æœˆ7æ—¥

